openapi: 3.1.0
info:
  title: Business data synchronization API
  contact:
    name: Hagleitner Hygiene Internaltional GmbH
    url: 'http://www.hagleitner.com/'
    email: office@hagleitner.com
  version: 1.0.0-beta.1
  description: |
    ## General description

    This API is used to synchronize business data resources with external systems. It uses service authentication with tokens provided by AD. Once authenticated a process accessing this API is authorized to access any endpoint without restrictions.

    The Standard API is a client agnostic API to the HsM Client Service.

    ## Notes for developers

    ### i18N and Accept-Language header
    All operations will respect Accept-Language headers. If the operation has to handle localizable content it will do so respecting the Accept-Language header. This includes formatting of culture-specific data, sorting, language-specific content (phrases) etc.

    ### Responses
    This specification shows only the most relevant responses. Clients have to still handle all other possible HTTP Response codes.
  summary: API for Business data synchronization
servers:
  - url: 'http://clse.hsm-test.com/api/standard/v1'
tags:
  - name: Branding
  - name: Customers
  - name: CustomerRelations
  - name: RoleAssignments
  - name: SelfRegistration
  - name: System
  - name: Users
  - name: CustomerFavorites
  - name: Locations
paths:
  /synchronization/customers:
    parameters: []
    get:
      summary: /synchronization/customers GET
      operationId: synchronization-customers#get
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customer-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-403-forbidden
        '404':
          description: Not Found
      description: Gets customers with detail information useful for synchronization with other systems. The collection is ordered by name1.
      parameters:
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
        - schema:
            type: boolean
            default: false
          in: query
          name: includeDeleted
          description: 'Filters customers based on user status. If true only customers with status ''deleted'' will pass the filter, if false only customers with a status not equal to ''deleted'' will pass the filter.'
        - schema:
            type: boolean
            default: true
          in: query
          name: includeDeactivated
          description: 'Filters customers based on user status. If true only customers with status ''deactivated'' will pass the filter, if false only customers with a status not equal to ''deleted'' status will pass the filter.'
        - schema:
            type: boolean
          in: query
          name: includeActive
          description: 'Filters customers based on user status. If true only customers with status ''active'' will pass the filter, if false only customers with a status not equal to ''active'' will pass the filter.'
        - schema:
            type: string
            format: uuid
            example: 98aea202-354b-4912-81f7-364e609fe650
          in: query
          name: synchronizationId
          description: Filters for a customer with the given synchronization Id. Only a customer with an exact match will pass the filter.
        - schema:
            type: string
            example: '2021-11-12T21:15:13.1234+01:00'
          in: query
          name: latestUpdatedAfter
          description: Filters for customers  that were last updated in the system after (>) the given date.
        - schema:
            type: string
            example: '2021-11-12T21:15:13.1234+01:00'
            format: date-time
          in: query
          name: createdBefore
          description: 'Filters for customers  that were created in the system before (<) the given date. '
        - schema:
            type: boolean
          in: query
          name: synchronizationIdAvailable
          description: 'Filters for customers based on the availability of a synchronizationId. If set to true only users with a non-empty synchronizationId will pass the filter, if set to false only users with an empty synchronizationId will pass the filter.  '
        - schema:
            type: string
          in: query
          name: customerNumber
          description: Filters for customers based on the customer number. Note that the customer Id is only unique within all customers of the same reseller.
        - schema:
            type: string
            format: uuid
          in: query
          name: resellerId
          description: Filters for sub customer of the given reseller.
        - schema:
            type: string
          in: query
          name: nameStartsWith
          description: Filters for customers whose name starts with the given string. String matching is done case insensitive..
      tags:
        - Customers
    post:
      summary: /synchronization/customers POST
      operationId: synchronization-customer#post
      responses:
        '201':
          description: Created
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-403-forbidden
        '404':
          description: Not Found
      description: Creates a customer with detail information useful for synchronization with other systems.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customer-synchronization
      tags:
        - Customers
  '/synchronization/customers/{id}':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id} GET'
      operationId: synchronization-customer#get
      tags:
        - Customers
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customer-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Gets customer with detail information useful for synchronization with other systems.
      parameters: []
    put:
      summary: '/synchronization/customers/{id} PUT'
      operationId: synchronization-customer#put
      tags:
        - Customers
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Updates a customer with detailled information for synchronization processes.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customer-synchronization
  '/synchronization/customers/{id}/condition-relation':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/condition-relation GET'
      operationId: synchronization-customer-condition-relation#get
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties: {}
        '401':
          description: Unauthorized
        '402':
          description: Payment Required
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: 'Gets the condition relation of this customer (i.e. looking up the relation tree) with detail information useful for synchronization with other systems. '
      parameters: []
      tags:
        - CustomerRelations
    put:
      summary: '/synchronization/customers/{id}/condition-relation PUT'
      operationId: synchronization-customer-condition-relation#put
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Updates a customer's condition relation with detailled information for synchronization processes.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
  '/synchronization/customers/{id}/customer-condition-relations':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/customer-condition-relations GET'
      operationId: synchronization-customer-condition-relations#get
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Gets all reseller relations of this customer i.e. all relations between customers where this customer is the reseller.
      parameters:
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
  '/synchronization/customers/{id}/customer-hierarchy-relation':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/customer-hierarchy-relation GET'
      operationId: synchronization-customer-customer-hierarchy-relation#get
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: 'Gets the customer-hierarchy relation of this customer (i.e. looking up the relation tree) with detail information useful for synchronization with other systems. '
      parameters: []
    put:
      summary: '/synchronization/customers/{id}/customer-hierarchy-relation PUT'
      operationId: synchronization-customer-customer-hierarchy-relation#put
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Updates a customer's customer-hierarchy relation with detailled information for synchronization processes.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
  '/synchronization/customers/{id}/customer-hierarchy-relations':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/customer-hierarchy-relations GET'
      tags:
        - CustomerRelations
      operationId: synchronization-customer-customer-hierarchy-relations#get
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Gets all reseller relations of this customer i.e. all relations between customers where this customer is the reseller.
      parameters:
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
  '/synchronization/customers/{id}/invoice-relation':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        description: ID of the customer
        required: true
    get:
      summary: '/synchronization/customers/{id}/invoice-relation GET'
      operationId: synchronization-customer-invoice-relation#get
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ''
        '500':
          description: Internal Server Error
      description: 'Gets the invoice relation of this customer (i.e. looking up the reseller relation) with detail information useful for synchronization with other systems. '
      parameters: []
    put:
      summary: '/synchronization/customers/{id}/invoice-relation PUT'
      operationId: synchronization-customer-invoice-relation#put
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Updates a customer's invoice relation with detailled information for synchronization processes.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
  '/synchronization/customers/{id}/invoice-relations':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/invoice-relations GET'
      operationId: synchronization-customer-invoice-relations#get
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items: null
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Gets all reseller relations of this customer i.e. all relations between customers where this customer is the reseller.
      parameters:
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
  '/synchronization/customers/{id}/reseller-relation':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/reseller-relation GET'
      operationId: synchronization-customer-reseller-relation#get
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: 'Gets the reseller relation of this customer (i.e. looking up the reseller relation) with detail information useful for synchronization with other systems. '
      parameters: []
      tags:
        - CustomerRelations
    put:
      summary: '/synchronization/customers/{id}/reseller-relation PUT'
      operationId: synchronization-customer-reseller-relation#put
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Updates a customer's reseller relation with detailled information for synchronization processes.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
      tags:
        - CustomerRelations
  '/synchronization/customers/{id}/reseller-relations':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/reseller-relations GET'
      operationId: synchronization-customer-reseller-relations#get
      tags:
        - CustomerRelations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Gets all reseller relations of this customer i.e. all relations between customers where this customer is the reseller.
      parameters:
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
  '/synchronization/customers/{id}/role-assignments':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/role-assignments GET'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRoleAssignment-customer-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      operationId: synchronization-customer-role-assignment#GET
      description: Gets roles-assignments of this customer together with synchronization data. Role-assignments are ordered by the assignment date ascending (oldest first).
      parameters:
        - schema:
            type: integer
            minimum: 1
            default: 100
            maximum: 1000
          in: query
          name: limit
          description: 'Pagination, maximum page size'
        - schema:
            type: integer
            minimum: 0
          in: query
          name: offset
          description: 'Pagination, page offset'
        - schema:
            type: string
            format: uuid
          in: query
          name: userId
          description: If given filters the list for roles assigned to that specific user
      x-internal: false
      tags:
        - RoleAssignments
    post:
      summary: '/synchronization/customers/{id}/role-assignments POST'
      operationId: synchronization-customer-role-assignment#POST
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRoleAssignment-user
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Creates a new role-assignement for this customer.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRoleAssignment-customer
      tags:
        - RoleAssignments
  '/synchronization/customers/{id}/status':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/customers/{id}/status GET'
      tags:
        - Customers
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: string
                enum:
                  - active
                  - inactive
                  - deleted
                example: inactive
      operationId: synchronization-customer-status#get
      x-internal: false
      description: Gets all the customers on the condition path from the root to this customer as sorted list.
    put:
      summary: '/customers/{id}/status PUT'
      operationId: customer-status#put
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: string
                required: true
                enum:
                  - active
                  - inactive
                  - deleted
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-403-forbidden
        '404':
          description: Not Found
      description: Modifies the status of a customer.
      requestBody:
        content:
          application/json:
            schema:
              type: string
              enum:
                - active
                - inactive
                - deleted
      tags:
        - Customers
  /synchronization/customer-relations:
    parameters: []
    get:
      summary: /synchronization/customers-relations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRelation-synchronization-list
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      operationId: synchronization-customer-relationst#GET
      description: Gets roles-assignments of this customer together with synchronization data. Role-assignments are ordered by the assignment date ascending (oldest first).
      parameters:
        - schema:
            type: integer
            minimum: 1
            default: 100
            maximum: 1000
          in: query
          name: limit
          description: 'Pagination, maximum page size'
        - schema:
            type: integer
            minimum: 0
          in: query
          name: offset
          description: 'Pagination, page offset'
        - schema:
            type: string
            enum:
              - invoice
              - customer-hierarchy
              - condition
              - reseller
            example: invoice
          in: query
          name: relationType
          required: true
          description: Filters for relations of this specific type only.
        - schema:
            type: string
          in: query
          name: childCustomerId
          description: Filters for relations where the child is the customer with the given ID.
        - schema:
            type: string
          in: query
          name: parentCustomerId
          description: Filters for relations where the parent is the customer with the given ID.
        - schema:
            type: boolean
          in: query
          name: synchronizationIdAvailable
          description: 'Filters for users based on the availability of a synchronizationId. If set to true only relations with a non-empty synchronizationId will pass the filter, if set to false only users with an empty synchronizationId will pass the filter.  '
      x-internal: false
      tags:
        - RoleAssignments
  '/synchronization/role-assignments/{id}':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: '/synchronization/role-assignments/{id}'
      tags:
        - RoleAssignments
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/customerRoleAssignment-customer
      operationId: synchronization-role-assignments#get
      description: Gets a role-assignemnt
      parameters: []
      x-internal: true
  /synchronization/system-role-assignments:
    parameters: []
    get:
      summary: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/systemRoleAssignment-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      operationId: system-role-assignment#get
      description: Gets a role assignement between users and the system.
      parameters:
        - schema:
            type: string
            format: uuid
          in: query
          name: userId
          description: Filters for system role assignments for a specific user.
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
      x-internal: false
      tags:
        - RoleAssignments
    post:
      summary: ''
      operationId: post-synchronization-system-role-assignments
      responses:
        '201':
          description: Created
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-403-forbidden
        '404':
          description: Not Found
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/systemRoleAssignment-synchronization
      description: Creates a new system role assignment
      tags:
        - RoleAssignments
  '/synchronization/system/role-assignments/{id}':
    parameters:
      - schema:
          type: string
          format: uuid
        name: id
        in: path
        required: true
        description: ID of the customer
    get:
      summary: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/systemRoleAssignment-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      operationId: synchronization-system-role-assignment#get
      description: Gets a role assignement between users and the system.
      parameters:
        - schema:
            type: string
            format: uuid
          in: query
          name: Id
          description: ID of the role assignment
      x-internal: false
      tags:
        - RoleAssignments
    delete:
      summary: ''
      operationId: system-role-assignment#delete
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      description: Deletes a system role assignment.
      parameters:
        - schema:
            type: string
            format: uuid
          in: query
          name: Id
          description: ID of the role assignment.
      tags:
        - RoleAssignments
  /synchronization/users:
    parameters: []
    get:
      summary: /synchronization/users GET
      operationId: synchronization-users#get
      tags:
        - Users
      responses:
        '200':
          description: OK
          headers:
            X-Total-Count:
              schema:
                type: integer
              description: Total count of resources in the collection.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '500':
          description: Internal Server Error
      description: Gets registered users with detail information useful for synchronization with other systems.
      parameters:
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/limit
        - $ref: ./hsm-clse-standard-api-base.yaml#/components/parameters/offset
        - schema:
            type: string
            example: 'active,inactive'
          in: query
          name: status
          description: Filters users based on user status. If given only users one of the given status will pass the filter.
        - schema:
            type: string
            format: email
            example: jon@doe.com
          in: query
          name: emailAddress
          description: Filter for user with the given e-mail address. The match is case insensitive.
        - schema:
            type: string
            format: uuid
            example: 98aea202-354b-4912-81f7-364e609fe650
          in: query
          name: synchronizationId
          description: Filters for a user with the given synchronization Id. Only a user with an exact match will pass the filter.
        - schema:
            type: string
            example: '2021-11-12T21:15:13.1234+01:00'
          in: query
          name: lastUpdatedAfter
          description: Filters for users that were last updated in the system after (>) the given date.
        - schema:
            type: string
            example: '2021-11-12T21:15:13.1234+01:00'
          in: query
          name: createdBefore
          description: 'Filters for users that were created in the system before (<) the given date. '
        - schema:
            type: boolean
          in: query
          name: synchronizationIdAvailable
          description: 'Filters for users based on the availability of a synchronizationId. If set to true only users with a non-empty synchronizationId will pass the filter, if set to false only users with an empty synchronizationId will pass the filter.  '
    post:
      summary: /synchronization/users POST
      operationId: synchronization-user#post
      tags:
        - Users
      responses:
        '201':
          description: Created
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Creates a new user together with synchronization data.
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
  '/synchronization/users/{id}':
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
        description: UUID of the collection element
    get:
      summary: '/synchronization/users/{id} GET'
      operationId: synchronization-user#get
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Gets a specific user with detail information useful for synchronization with other systems.
    put:
      summary: '/synchronization/users/{id} PUT'
      operationId: synchronization-user#put
      tags:
        - Users
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      description: Updates a suer
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
    patch:
      summary: '/synchronization/users/{id} PATCH'
      operationId: synchronization-user#patch
      tags:
        - Users
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
      requestBody:
        content:
          application/json:
            schema:
              $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/user-synchronization
      description: Performs a partial update on a user-synchronization resource.
  '/synchronization/users/{id}/status':
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
    get:
      summary: '/synchronization/users/{id}/status GET'
      operationId: synchronization-user-status#get
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: string
                enum:
                  - active
                  - inactive
                  - deleted
                  - masked
              examples: {}
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      description: |-
        Gets a the status of a specific user.
        Active: The user can interact with the system.
        Inactive: The user can (temporarily) not interact with the system but can be reactivatd
        Deleted: The user was deleted and cannot be re-activated. The e-mail address of deleted users does not have to be unique within the system.
        Masked: The user was deleted and finally the data of the user was masked to support GPDR requirements. Masked users cannot be reactivated. All personal infomrmation is removed.
      tags:
        - Users
    put:
      summary: '/synchronization/users/{id}/status PUT'
      operationId: user-status#put
      description: Updates a user's status
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/userStatus
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ./hsm-clse-standard-api-base.yaml#/components/schemas/response-400-badRequest
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not Found
      tags:
        - Users
      requestBody:
        content:
          application/json:
            schema:
              type: string
              enum:
                - active
                - inactive
                - deleted
                - masked
components:
  schemas: {}
